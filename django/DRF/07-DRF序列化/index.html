



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
        <meta name="author" content="jokerleu">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>DRF序列化 - 知识与技能图景</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#drf" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="知识与技能图景" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              知识与技能图景
            </span>
            <span class="md-header-nav__topic">
              DRF序列化
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/jokerleu/io.github.jokerleu/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jokerleu/io.github.jokerleu
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="知识与技能图景" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    知识与技能图景
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/jokerleu/io.github.jokerleu/" title="前往 Github 仓库" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jokerleu/io.github.jokerleu
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      未分类页面
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        未分类页面
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../linux内核.md" title="Linux内核" class="md-nav__link">
      Linux内核
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      计算机
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        计算机
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      操作系统
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        操作系统
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-Docker基础使用/01-Docker介绍/" title="01-Docker介绍" class="md-nav__link">
      01-Docker介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      编程语言
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        编程语言
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-Docker基础使用/01-Docker介绍/" title="01-Docker介绍" class="md-nav__link">
      01-Docker介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      网络
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        网络
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-Docker基础使用/01-Docker介绍/" title="01-Docker介绍" class="md-nav__link">
      01-Docker介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      安全
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        安全
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-Docker基础使用/01-Docker介绍/" title="01-Docker介绍" class="md-nav__link">
      01-Docker介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      弱电
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        弱电
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-Docker基础使用/01-Docker介绍/" title="01-Docker介绍" class="md-nav__link">
      01-Docker介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      运维
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        运维
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-Docker基础使用/01-Docker介绍/" title="01-Docker介绍" class="md-nav__link">
      01-Docker介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-7" type="checkbox" id="nav-2-7">
    
    <label class="md-nav__link" for="nav-2-7">
      IoT物联网
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-7">
        IoT物联网
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-Docker基础使用/01-Docker介绍/" title="01-Docker介绍" class="md-nav__link">
      01-Docker介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-8" type="checkbox" id="nav-2-8">
    
    <label class="md-nav__link" for="nav-2-8">
      工作未分类
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-8">
        工作未分类
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-Docker基础使用/01-Docker介绍/" title="01-Docker介绍" class="md-nav__link">
      01-Docker介绍
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-9" type="checkbox" id="nav-2-9">
    
    <label class="md-nav__link" for="nav-2-9">
      网站收藏
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-9">
        网站收藏
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/测试用.md" title="测试页面" class="md-nav__link">
      测试页面
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      IoT物联网
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        IoT物联网
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/IoT物联网/Domotize/" title="Domotize" class="md-nav__link">
      Domotize
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/IoT物联网/Keil/" title="Keil" class="md-nav__link">
      Keil
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/IoT物联网/stm32/" title="Stm32" class="md-nav__link">
      Stm32
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/IoT物联网/机智云/" title="机智云" class="md-nav__link">
      机智云
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/IoT物联网/树莓派/" title="树莓派" class="md-nav__link">
      树莓派
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/基础知识/" title="基础知识" class="md-nav__link">
      基础知识
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/面试试题/" title="面试试题" class="md-nav__link">
      面试试题
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      ITIL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        ITIL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/运维/ITIL/持续服务改进/" title="持续服务改进" class="md-nav__link">
      持续服务改进
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/运维/ITIL/服务战略/" title="服务战略" class="md-nav__link">
      服务战略
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/运维/ITIL/服务设计/" title="服务设计" class="md-nav__link">
      服务设计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/运维/ITIL/服务转换/" title="服务转换" class="md-nav__link">
      服务转换
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../计算机/运维/ITIL/服务运营/" title="服务运营" class="md-nav__link">
      服务运营
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Ansible/" title="Ansible" class="md-nav__link">
      Ansible
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/ApacheHttpd/" title="ApacheHttpd" class="md-nav__link">
      ApacheHttpd
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/ApacheTomcat/" title="ApacheTomcat" class="md-nav__link">
      ApacheTomcat
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/ApacheZookeeper/" title="ApacheZookeeper" class="md-nav__link">
      ApacheZookeeper
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Cacti/" title="Cacti" class="md-nav__link">
      Cacti
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/DHCP/" title="DHCP" class="md-nav__link">
      DHCP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/DNS/" title="DNS" class="md-nav__link">
      DNS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Dokcer/" title="Dokcer" class="md-nav__link">
      Dokcer
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/ELK/" title="ELK" class="md-nav__link">
      ELK
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/ElasticSearch/" title="ElasticSearch" class="md-nav__link">
      ElasticSearch
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/FTP/" title="FTP" class="md-nav__link">
      FTP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Fabric/" title="Fabric" class="md-nav__link">
      Fabric
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Git/" title="Git" class="md-nav__link">
      Git
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Graylog/" title="Graylog" class="md-nav__link">
      Graylog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/HAProxy/" title="HAProxy" class="md-nav__link">
      HAProxy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/IIS/" title="IIS" class="md-nav__link">
      IIS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Jenkins/" title="Jenkins" class="md-nav__link">
      Jenkins
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Keepalived/" title="Keepalived" class="md-nav__link">
      Keepalived
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Kubernates(K8s)/" title="Kubernates(K8s)" class="md-nav__link">
      Kubernates(K8s)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/LVS/" title="LVS" class="md-nav__link">
      LVS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/ModSecurity/" title="ModSecurity" class="md-nav__link">
      ModSecurity
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/MongoDB/" title="MongoDB" class="md-nav__link">
      MongoDB
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/MySQL&MariaDB/" title="MySQL&MariaDB" class="md-nav__link">
      MySQL&MariaDB
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/NTP/" title="NTP" class="md-nav__link">
      NTP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Nagios/" title="Nagios" class="md-nav__link">
      Nagios
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Nginx/" title="Nginx" class="md-nav__link">
      Nginx
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Ngrok/" title="Ngrok" class="md-nav__link">
      Ngrok
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/OpenResty/" title="OpenResty" class="md-nav__link">
      OpenResty
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Oracle/" title="Oracle" class="md-nav__link">
      Oracle
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/PostgreSQL/" title="PostgreSQL" class="md-nav__link">
      PostgreSQL
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Puppet/" title="Puppet" class="md-nav__link">
      Puppet
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Redis/" title="Redis" class="md-nav__link">
      Redis
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/SAMBA/" title="SAMBA" class="md-nav__link">
      SAMBA
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/SaltStack/" title="SaltStack" class="md-nav__link">
      SaltStack
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/VirtualBox/" title="VirtualBox" class="md-nav__link">
      VirtualBox
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/WebLogic/" title="WebLogic" class="md-nav__link">
      WebLogic
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/Zabbix/" title="Zabbix" class="md-nav__link">
      Zabbix
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/eMail/" title="eMail" class="md-nav__link">
      eMail
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/grafana/" title="Grafana" class="md-nav__link">
      Grafana
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/rsyslog/" title="Rsyslog" class="md-nav__link">
      Rsyslog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../计算机/运维/软件/ssh&pssh&dsh/" title="Ssh&pssh&dsh" class="md-nav__link">
      Ssh&pssh&dsh
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="简单使用" class="md-nav__link">
    简单使用
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#queryset" title="QuerySet序列化" class="md-nav__link">
    QuerySet序列化
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hypermedia-api" title="Hypermedia API" class="md-nav__link">
    Hypermedia API
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" title="请求认证" class="md-nav__link">
    请求认证
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="源码流程" class="md-nav__link">
    源码流程
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" title="请求数据校验" class="md-nav__link">
    请求数据校验
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jokerleu/io.github.jokerleu/edit/master/docs/django/DRF/07-DRF序列化.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="drf">DRF序列化<a class="headerlink" href="#drf" title="Permanent link">&para;</a></h1>
<blockquote>
<ul>
<li>请求认证</li>
<li>QuerySet进行序列化</li>
</ul>
</blockquote>
<h2 id="_1">简单使用<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="queryset">QuerySet序列化<a class="headerlink" href="#queryset" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">UserInfoSer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    以userinfo表为例子，如下是我想要显示的字段</span>
<span class="sd">    1-username和password都是本表字段，直接展示就可以，调用对应类别为CharField</span>
<span class="sd">    2-user_type为用户类型，这在我们的models定义中是一个choice字段，如果直接取IntegerField的话</span>
<span class="sd">    那么返回的将是一个id而已，而不是我们想要的typeid对应的中文名称，因此这一块要指定源source。</span>
<span class="sd">    orm内部针对choice字段存在一个get_Foo_display的方法，会返回对应的choice对应的值，那么对应到这里就是</span>
<span class="sd">    要显示user_type字段对应的choice的选项值。</span>
<span class="sd">    3-外键字段，这里还可以填写对应的外键字段，比如group，对应的就是group对象，.title，就是调用group对象</span>
<span class="sd">    的title字段的值，同样也要指定source。</span>
<span class="sd">    4-而针对多对多字典在这里指定方法的话其实就不是那么方便了，因此采用一个新的类SerializerMethodField</span>
<span class="sd">    ，这个类可以允许我们自定义方法来指定显示内容，假如字段名叫rls，那么就可以命名一个get_rls的方法，内部</span>
<span class="sd">    操作也很简单，就是拿到所有的role对象以后然后把对象的id和title取出来添加到ret里，返回的ret即是rls的值</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">username</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">password</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="c1"># choices字段</span>
    <span class="n">ut</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;get_user_type_display&#39;</span><span class="p">)</span>
    <span class="c1"># 外键字段内部是根据.做split，取值，因此可以一直.下去。</span>
    <span class="n">gp</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;group.title&#39;</span><span class="p">)</span>
    <span class="c1"># 多对多关系，用SerializerMethod进行自定义方法显示，上线的choice，gp都可以用这种方法的形式</span>
    <span class="n">rls</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">SerializerMethodField</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_rls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>

        <span class="n">role_obj_list</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">roles</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">role_obj_list</span><span class="p">:</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">title</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">ret</span>

 <span class="c1"># 对应的CBV</span>
<span class="k">class</span> <span class="nc">UserInfo</span><span class="p">(</span><span class="n">APIView</span><span class="p">):</span>

    <span class="n">authentication_classes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">permission_classes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">throttle_classes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="n">users</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserInfo</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">ser</span> <span class="o">=</span> <span class="n">UserInfoSer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">users</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="c1"># ser.data返回的是一个OrderedDIct是一个有序字典，实质上还是一个字典</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
</pre></div>

<p>访问对应的路由得到的结果如下：</p>
<div class="codehilite"><pre><span></span><span class="p">[{</span><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;lamber&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="s2">&quot;ut&quot;</span><span class="p">:</span> <span class="s2">&quot;普通用户&quot;</span><span class="p">,</span> <span class="s2">&quot;gp&quot;</span><span class="p">:</span> <span class="s2">&quot;A组&quot;</span><span class="p">,</span> <span class="s2">&quot;rls&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;医生&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;学生&quot;</span><span class="p">}]},</span> <span class="p">{</span><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;maxiaoyu&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="s2">&quot;ut&quot;</span><span class="p">:</span> <span class="s2">&quot;VIP&quot;</span><span class="p">,</span> <span class="s2">&quot;gp&quot;</span><span class="p">:</span> <span class="s2">&quot;b组&quot;</span><span class="p">,</span> <span class="s2">&quot;rls&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;学生&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;老师&quot;</span><span class="p">}]},</span> <span class="p">{</span><span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;qimaosen&quot;</span><span class="p">,</span> <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="s2">&quot;ut&quot;</span><span class="p">:</span> <span class="s2">&quot;SVIP&quot;</span><span class="p">,</span> <span class="s2">&quot;gp&quot;</span><span class="p">:</span> <span class="s2">&quot;A组&quot;</span><span class="p">,</span> <span class="s2">&quot;rls&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;老师&quot;</span><span class="p">}]}]</span>
</pre></div>

<p>其实我们只做了两个事情：</p>
<ol>
<li>定义一个序列化的类，写上对应的字段</li>
<li>在CBV中实例化序列类，生成序列化后的数据，返回给前端。</li>
</ol>
<p>在序列化类中我们单独指定了每一个字段的显示，其实这个还可以更简单的的去操作，只要继承内置的ModelSerializer类即可，因此上面的内容就可以改成如下的形式：</p>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">UserInfoSer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserInfo</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s2">&quot;__all__&quot;</span>
</pre></div>

<p>当fields设置为<code>__all__</code>的时候，会自动帮你显示所有的字段，这样就不需要自己一个一个手写了，不过也有一个问题就是这里的处理都是最简单化的处理，即对应的group也只是给你显示组id，choices也是显示choice的id而不是显示choice的名称，因此部分字段还是需要我们自己来进行处理，来进行一下改进如下：</p>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">UserInfoSer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>

    <span class="n">ut</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;get_user_type_display&#39;</span><span class="p">)</span>
    <span class="n">gp</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;group.title&#39;</span><span class="p">)</span>
    <span class="n">rls</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">SerializerMethodField</span><span class="p">()</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserInfo</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;ut&#39;</span><span class="p">,</span> <span class="s1">&#39;rls&#39;</span><span class="p">,</span> <span class="s1">&#39;gp&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_rls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>

        <span class="n">role_obj_list</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">roles</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">role_obj_list</span><span class="p">:</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">item</span><span class="o">.</span><span class="n">title</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">ret</span>
</pre></div>

<p>不过还有一种更为简单的写法，指定一个depth，depth表示深度，我们在外键进行联表查询的时候可以通过“.”一直多级去获取，即一直“.”下去，这里depth就是指定要深入走多少层，：</p>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">UserInfoSer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserInfo</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s2">&quot;__all__&quot;</span>
        <span class="c1"># 默认ModelSerializer使用主键作为关联字段，但是我们可以使用depth来简单的生成嵌套表示，</span>
        <span class="c1"># depth应该是整数，表明嵌套的层级数量，建议3~4层就差不多了，再多就会慢了。</span>
        <span class="n">depth</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>

<p>除此之外，我们还可以自定义字段显示，定义一个自定制的Field的类，在内部重写to_representtation方法，方法返回什么就显示什么。</p>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MyField</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        可以自定义这个方法，这个方法返回什么，那么返回的页面数据就是什么，value是从数据库取到的值，</span>
<span class="sd">        这个方法一般是用不上，因为我们自定义方法一般就能解决这个问题了。</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">UserInfoSer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>

    <span class="n">ut</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;get_user_type_display&#39;</span><span class="p">)</span>
    <span class="n">gp</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;group.title&#39;</span><span class="p">)</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="n">MyField</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserInfo</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;ut&#39;</span><span class="p">,</span> <span class="s1">&#39;gp&#39;</span><span class="p">,</span> <span class="s1">&#39;x1&#39;</span><span class="p">]</span>
</pre></div>

<p>对应的结果如下：</p>
<div class="codehilite"><pre><span></span><span class="p">[{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;lamber&quot;</span><span class="p">,</span> <span class="s2">&quot;ut&quot;</span><span class="p">:</span> <span class="s2">&quot;普通用户&quot;</span><span class="p">,</span> <span class="s2">&quot;gp&quot;</span><span class="p">:</span> <span class="s2">&quot;A组&quot;</span><span class="p">,</span> <span class="s2">&quot;x1&quot;</span><span class="p">:</span> <span class="mf">1550142281.049991</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;maxiaoyu&quot;</span><span class="p">,</span> <span class="s2">&quot;ut&quot;</span><span class="p">:</span> <span class="s2">&quot;VIP&quot;</span><span class="p">,</span> <span class="s2">&quot;gp&quot;</span><span class="p">:</span> <span class="s2">&quot;b组&quot;</span><span class="p">,</span> <span class="s2">&quot;x1&quot;</span><span class="p">:</span> <span class="mf">1550142281.052642</span><span class="p">},</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;qimaosen&quot;</span><span class="p">,</span> <span class="s2">&quot;ut&quot;</span><span class="p">:</span> <span class="s2">&quot;SVIP&quot;</span><span class="p">,</span> <span class="s2">&quot;gp&quot;</span><span class="p">:</span> <span class="s2">&quot;A组&quot;</span><span class="p">,</span> <span class="s2">&quot;x1&quot;</span><span class="p">:</span> <span class="mf">1550142281.054938</span><span class="p">}]</span>
</pre></div>

<h3 id="hypermedia-api">Hypermedia API<a class="headerlink" href="#hypermedia-api" title="Permanent link">&para;</a></h3>
<p>Hypermedia API，RESTful API最好做到Hypermedia，即返回结果中提供链接，连向其他API方法，使得用户不查文档，也知道下一步应该做什么。以用户组为例：</p>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">UserInfoSer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    这里的lookup_url_kwarg是指的我去反向生成url的时候，参数写的值是什么，</span>
<span class="sd">    如果是pk那就是pk，如果是xxx那匹配到的就是xxx，这个是针对URL上有参数的情况</span>
<span class="sd">    lookup_field用于执行各个模型实例的对象查找的模型字段。默认为 &#39;pk&#39;。</span>
<span class="sd">    请注意，使用 hyperlinked API 时，如果需要使用自定义值，</span>
<span class="sd">    则需要确保 API 视图和序列化类设置了 lookup field，不设置默认按照pk来，数据可能是不对的。</span>
<span class="sd">    生成反向URL地址，帮助接口人调用的时候可以了解到连接的内容。</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">HyperlinkedIdentityField</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s1">&#39;gp&#39;</span><span class="p">,</span> <span class="n">lookup_url_kwarg</span><span class="o">=</span><span class="s1">&#39;pk&#39;</span><span class="p">,</span> <span class="n">lookup_field</span><span class="o">=</span><span class="s1">&#39;group_id&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserInfo</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">UserInfo</span><span class="p">(</span><span class="n">APIView</span><span class="p">):</span>

    <span class="n">authentication_classes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">permission_classes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">throttle_classes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="n">users</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserInfo</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">ser</span> <span class="o">=</span> <span class="n">UserInfoSer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">users</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="c1"># 返回的ser.data是一个OrderedDIct是一个有序字典，实质上还是一个字典</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">GroupSer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>

    <span class="n">group</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">HyperlinkedIdentityField</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s1">&#39;gp&#39;</span><span class="p">,</span> <span class="n">lookup_url_kwarg</span><span class="o">=</span><span class="s1">&#39;pk&#39;</span><span class="p">,</span> <span class="n">lookup_field</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserGroup</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s2">&quot;__all__&quot;</span>


<span class="k">class</span> <span class="nc">Group</span><span class="p">(</span><span class="n">APIView</span><span class="p">):</span>

    <span class="n">authentication_classes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">permission_classes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">throttle_classes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="n">pk</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pk&#39;</span><span class="p">)</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserGroup</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="c1"># 但凡你要是使用HyperlinkedIdentityField了，你就要加上context这个参数，这样就能获得反向的url</span>
        <span class="c1"># 否则会报如下异常：</span>
        <span class="c1"># `HyperlinkedIdentityField` requires the request in the serializer context. Add `context={&#39;request&#39;: request}` when instantiating the serializer.</span>
        <span class="n">ser</span> <span class="o">=</span> <span class="n">GroupSer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;request&#39;</span><span class="p">:</span> <span class="n">request</span><span class="p">})</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
</pre></div>

<p>返回的结果内容如下：</p>
<div class="codehilite"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;lamber&quot;</span><span class="p">,</span>
        <span class="s2">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/group/1&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;maxiaoyu&quot;</span><span class="p">,</span>
        <span class="s2">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/group/2&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;qimaosen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;group&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/group/1&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<h3 id="_2">请求认证<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>在请求认证这里其实很类似于Form组件的请求认证，比如我要针对username做一个请求认证</p>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">xxValidator</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">base</span> <span class="o">=</span> <span class="n">base</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">base</span><span class="p">):</span>
            <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;标题必须以</span><span class="si">%s</span><span class="s1">开头&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">base</span>
            <span class="k">raise</span> <span class="n">serializers</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">UserInfoSer</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">ModelSerializer</span><span class="p">):</span>

    <span class="n">username</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="c1"># 这里面包含了很多原生的验证规则，比如required，不能为空</span>
        <span class="n">error_messages</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;required&#39;</span><span class="p">:</span> <span class="s1">&#39;不能为空&#39;</span>
        <span class="p">},</span>
        <span class="c1"># 但是我们还可以自己去定义验证规则，方法就是定一个类就可以了，比如上面的xxValidator类</span>
        <span class="c1"># 如果满足的话不作操作，如果不满足raise一个ValidationError</span>
        <span class="c1"># 这里调用了__call__方法，因此类可以直接加括号调用，默认就是调用的__call__方法。</span>
        <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">xxValidator</span><span class="p">(</span><span class="s1">&#39;呵呵哒&#39;</span><span class="p">),</span> <span class="p">],</span>
    <span class="p">)</span>

    <span class="n">group</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">HyperlinkedIdentityField</span><span class="p">(</span><span class="n">view_name</span><span class="o">=</span><span class="s1">&#39;gp&#39;</span><span class="p">,</span> <span class="n">lookup_url_kwarg</span><span class="o">=</span><span class="s1">&#39;pk&#39;</span><span class="p">,</span> <span class="n">lookup_field</span><span class="o">=</span><span class="s1">&#39;group_id&#39;</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UserInfo</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span><span class="p">]</span>

 <span class="k">class</span> <span class="nc">UserInfo</span><span class="p">(</span><span class="n">APIView</span><span class="p">):</span>

    <span class="n">authentication_classes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">permission_classes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">throttle_classes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">ser</span> <span class="o">=</span> <span class="n">UserInfoSer</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ser</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="k">print</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">validated_data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s1">&#39;测试的post请求&#39;</span><span class="p">)</span>
</pre></div>

<p>如果post请求过来的内容不是以“呵呵哒”开头的话，ser.errors就会打印出对应的报错</p>
<div class="codehilite"><pre><span></span><span class="p">{</span><span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">ErrorDetail</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s1">&#39;标题必须以呵呵哒开头&#39;</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="s1">&#39;invalid&#39;</span><span class="p">)]}</span>
</pre></div>

<p>当然一般情况下我们不会去这么做，Form组件中有钩子，这里同样也有。</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">is_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;省略一部分代码&quot;&quot;&quot;</span>
    <span class="c1"># 如果没有_validated_data属性的话，那么就会去调用run_validation方法。</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_validated_data&#39;</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validated_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_validation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">initial_data</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_validated_data</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_errors</span> <span class="o">=</span> <span class="n">exc</span><span class="o">.</span><span class="n">detail</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_errors</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_errors</span> <span class="ow">and</span> <span class="n">raise_exception</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>

    <span class="k">return</span> <span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_errors</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">run_validation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">empty</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate a simple representation and return the internal value.</span>

<span class="sd">    The provided data may be `empty` if no representation was included</span>
<span class="sd">    in the input.</span>

<span class="sd">    May raise `SkipField` if the field should not be included in the</span>
<span class="sd">    validated data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="p">(</span><span class="n">is_empty_value</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_empty_values</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_empty_value</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">data</span>
    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_internal_value</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">run_validators</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">value</span>

<span class="k">def</span> <span class="nf">validate_empty_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate empty values, and either:</span>

<span class="sd">    * Raise `ValidationError`, 指出无效的数据</span>
<span class="sd">    * Raise `SkipField`, 指出这个字段应该被忽略</span>
<span class="sd">    * Return (True, data), indicating an empty value that should be</span>
<span class="sd">      returned without any further validation being applied.</span>
<span class="sd">    * Return (False, data), indicating a non-empty value, that should</span>
<span class="sd">      have validation applied as normal.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_only</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="n">empty</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;partial&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SkipField</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">required</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s1">&#39;required&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default</span><span class="p">())</span>

    <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_null</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fail</span><span class="p">(</span><span class="s1">&#39;null&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</pre></div>

<h2 id="_3">源码流程<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>我们写一个要做序列化的时候，假如说继承了serializers.Serializer类，我们在CBV中要进行调用：</p>
<div class="codehilite"><pre><span></span><span class="c1"># 也就是实例化，那么整个代码流程就从实例化开始看</span>
<span class="n">ser</span> <span class="o">=</span> <span class="n">UserInfoSer</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">users</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

<p>实例化的时候会优先指定的两个方法一个是<code>__new__</code>另外一个就是构造方法<code>__init__</code>。但是我们在Serializer中并没有发现，所以到它集成的父类BaseSerializer中去找。</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">empty</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># 这个就是我们传递的instance，可能是一个，也可能是多个。</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">instance</span> <span class="o">=</span> <span class="n">instance</span>
    <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">empty</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">partial</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;partial&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;context&#39;</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;many&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BaseSerializer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># 重写这个类来自动构建ListSerializer类代替，当设置了many=True时候</span>
    <span class="c1"># 我们会去把many这个选项pop出来，如果没有那就是False，不走这里的条件</span>
    <span class="c1"># 直接去调用父类的__new__方法.</span>
    <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;many&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span>
        <span class="c1"># 如果说有many，那么调用类方法many_init</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">many_init</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">BaseSerializer</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

<p>在Serializer，如果没有给meta设置list_serializer_class属性，那么list_serializer_class属性就是ListSerializer，最后返回的也就是ListSerializer的对象，接下来执行ListSerializer对象的构造方法，否则执行BaseSerializer里面的构造方法（如果我们重写了这个就会调用我们自己的构造方法）。</p>
<div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">many_init</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This method implements the creation of a `ListSerializer` parent</span>
<span class="sd">    class when `many=True` is used. You can customize it if you need to</span>
<span class="sd">    control which keyword arguments are passed to the parent, and</span>
<span class="sd">    which are passed to the child.</span>

<span class="sd">    Note that we&#39;re over-cautious in passing most arguments to both parent</span>
<span class="sd">    and child classes in order to try to cover the general case. If you&#39;re</span>
<span class="sd">    overriding this method you&#39;ll probably want something much simpler, eg:</span>

<span class="sd">    @classmethod</span>
<span class="sd">    def many_init(cls, *args, **kwargs):</span>
<span class="sd">        kwargs[&#39;child&#39;] = cls()</span>
<span class="sd">        return CustomListSerializer(*args, **kwargs)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allow_empty</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;allow_empty&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="n">child_serializer</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="n">list_kwargs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;child&#39;</span><span class="p">:</span> <span class="n">child_serializer</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">allow_empty</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">list_kwargs</span><span class="p">[</span><span class="s1">&#39;allow_empty&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">allow_empty</span>
    <span class="n">list_kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
        <span class="n">key</span><span class="p">:</span> <span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">LIST_SERIALIZER_KWARGS</span>
    <span class="p">})</span>
    <span class="n">meta</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s1">&#39;Meta&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="n">list_serializer_class</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">meta</span><span class="p">,</span> <span class="s1">&#39;list_serializer_class&#39;</span><span class="p">,</span> <span class="n">ListSerializer</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">list_serializer_class</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">list_kwargs</span><span class="p">)</span>
</pre></div>

<p>然后我们调用了这个这个对象的data属性：</p>
<div class="codehilite"><pre><span></span><span class="n">ret</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>

<p>来看一下这个data方法的实现</p>
<div class="codehilite"><pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Serializer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">data</span>
    <span class="k">return</span> <span class="n">ReturnDict</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="n">serializer</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

<span class="nd">@property</span>
<span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;initial_data&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_validated_data&#39;</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s1">&#39;When a serializer is passed a `data` keyword argument you &#39;</span>
            <span class="s1">&#39;must call `.is_valid()` before attempting to access the &#39;</span>
            <span class="s1">&#39;serialized `.data` representation.</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;You should either call `.is_valid()` first, &#39;</span>
            <span class="s1">&#39;or access `.initial_data` instead.&#39;</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_data&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_errors&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instance</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_validated_data&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_errors&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">validated_data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_initial</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span>

<span class="k">def</span> <span class="nf">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;`to_representation()` must be implemented.&#39;</span><span class="p">)</span>


<span class="c1"># Serializer类的类方法    </span>
<span class="k">def</span> <span class="nf">to_representation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Object instance -&gt; Dict of primitive datatypes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">()</span>
    <span class="n">fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readable_fields</span>

    <span class="c1"># fields其实就是咱们定义的这些字段</span>
    <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># 调用字段的get_attribute方法，并把instance作为参数传递进去。</span>
            <span class="n">attribute</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">instance</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">SkipField</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="c1"># We skip `to_representation` for `None` values so that fields do</span>
        <span class="c1"># not have to explicitly deal with that case.</span>
        <span class="c1">#</span>
        <span class="c1"># For related fields with `use_pk_only_optimization` we need to</span>
        <span class="c1"># resolve the pk value.</span>
        <span class="n">check_for_none</span> <span class="o">=</span> <span class="n">attribute</span><span class="o">.</span><span class="n">pk</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">attribute</span><span class="p">,</span> <span class="n">PKOnlyObject</span><span class="p">)</span> <span class="k">else</span> <span class="n">attribute</span>
        <span class="k">if</span> <span class="n">check_for_none</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">ret</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret</span><span class="p">[</span><span class="n">field</span><span class="o">.</span><span class="n">field_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">to_representation</span><span class="p">(</span><span class="n">attribute</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ret</span>
</pre></div>

<p>找一个Charfield看看</p>
<div class="codehilite"><pre><span></span><span class="c1"># from rest_framework.serializers import CharField，发现CharField中并没有get_attribute这个方法，所以继续找，它的父类Field发现了这个方法</span>
<span class="k">def</span> <span class="nf">get_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given the *outgoing* object instance, return the primitive value</span>
<span class="sd">    that should be used for this field.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">get_attribute</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">source_attrs</span><span class="p">)</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">KeyError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">empty</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_default</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">allow_null</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">required</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SkipField</span><span class="p">()</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s1">&#39;Got {exc_type} when attempting to get a value for field &#39;</span>
            <span class="s1">&#39;`{field}` on serializer `{serializer}`.</span><span class="se">\n</span><span class="s1">The serializer &#39;</span>
            <span class="s1">&#39;field might be named incorrectly and not match &#39;</span>
            <span class="s1">&#39;any attribute or key on the `{instance}` instance.</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;Original exception text was: {exc}.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">exc_type</span><span class="o">=</span><span class="nb">type</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="n">field</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">,</span>
                <span class="n">serializer</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="n">exc</span><span class="o">=</span><span class="n">exc</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">exc</span><span class="p">)(</span><span class="n">msg</span><span class="p">)</span>

<span class="c1"># source       </span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">source_attrs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># 比如group.title，分隔后就是group，title</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">source_attrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_attribute</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Similar to Python&#39;s built in `getattr(instance, attr)`,</span>
<span class="sd">    but takes a list of nested attributes, instead of a single attribute.</span>

<span class="sd">    Also accepts either attribute lookup on objects or dictionary lookups.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">collections</span><span class="o">.</span><span class="n">Mapping</span><span class="p">):</span>
                <span class="n">instance</span> <span class="o">=</span> <span class="n">instance</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">instance</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ObjectDoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">is_simple_callable</span><span class="p">(</span><span class="n">instance</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">instance</span> <span class="o">=</span> <span class="n">instance</span><span class="p">()</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">KeyError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="c1"># If we raised an Attribute or KeyError here it&#39;d get treated</span>
                <span class="c1"># as an omitted field in `Field.get_attribute()`. Instead we</span>
                <span class="c1"># raise a ValueError to ensure the exception is not masked.</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Exception raised in callable attribute &quot;{0}&quot;; original exception was: {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="n">exc</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">instance</span>


<span class="k">def</span> <span class="nf">is_simple_callable</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    True if the object is a callable that takes no arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">or</span> <span class="n">inspect</span><span class="o">.</span><span class="n">ismethod</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">)):</span>
        <span class="k">return</span> <span class="bp">False</span>

    <span class="n">sig</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span>
        <span class="n">param</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">param</span><span class="o">.</span><span class="n">VAR_POSITIONAL</span> <span class="ow">or</span>
        <span class="n">param</span><span class="o">.</span><span class="n">kind</span> <span class="o">==</span> <span class="n">param</span><span class="o">.</span><span class="n">VAR_KEYWORD</span> <span class="ow">or</span>
        <span class="n">param</span><span class="o">.</span><span class="n">default</span> <span class="o">!=</span> <span class="n">param</span><span class="o">.</span><span class="n">empty</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params</span>
    <span class="p">)</span>

<span class="k">def</span> <span class="nf">isfunction</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is a user-defined function.</span>

<span class="sd">    Function objects provide these attributes:</span>
<span class="sd">        __doc__         documentation string</span>
<span class="sd">        __name__        name with which this function was defined</span>
<span class="sd">        __code__        code object containing compiled function bytecode</span>
<span class="sd">        __defaults__    tuple of any default values for arguments</span>
<span class="sd">        __globals__     global namespace in which this function was defined</span>
<span class="sd">        __annotations__ dict of parameter annotations</span>
<span class="sd">        __kwdefaults__  dict of keyword only parameters with defaults&quot;&quot;&quot;</span>
    <span class="c1"># 和callable是等价的</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">FunctionType</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">ismethod</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return true if the object is an instance method.</span>

<span class="sd">    Instance method objects provide these attributes:</span>
<span class="sd">        __doc__         documentation string</span>
<span class="sd">        __name__        name with which this method was defined</span>
<span class="sd">        __func__        function object containing implementation of method</span>
<span class="sd">        __self__        instance to which this method is bound&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">MethodType</span><span class="p">)</span>
</pre></div>

<h2 id="_4">请求数据校验<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/jokerleu" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.d9aa80ab.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../../assets/javascripts/lunr/lunr.jp.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../js/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>